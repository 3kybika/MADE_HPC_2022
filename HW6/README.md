cosmos.jpg


nvcc -arch sm_86 ./median_filter.cu -o median_filter
./median_filter
./median_filter --help
nvcc -arch sm_86 template_filter.cu -o template_filter
./template_filter
./template_filter --help
./template_filter cosmos.jpg cosmos_template.jpg
./median_filter cosmos.jpg cosmos_median.jpg




# Домашнее задание 7: (ДЗ-6)  
  
1. Размытие картинки и "Median filter"  
Возьмите произвольную картинку (цветную или черно-белую).

а) Фильтр по шаблону (25 баллов).  
В каждом пикселе картинки надо усреднить по шаблону с коэффициентами в окрестности данного пикселя. Например, для шаблона 5x5:
```
for(int k=-2;k<=2; k++)
{
    for(int l=-2; l<=2; l++)
    {
        u[i][j]+=1/s*a[k][l]*u[i+k][j+l];
    }
}
```

Продемонстрируйте результат размытия для 2 разных шаблонов.  

**Результат**
Код представлен в файле `template_filter.cu`  
Компиляция: `nvcc -arch sm_86 ./template_filter.cu -o template_filter`  
Запуск:
```
    ./template_filter <source_file_name> <target_file_name>
    source_file_name - path to source file, default value: default.jpg
    target_file_name - path to target file, default value: default_tamplate_filter.jpg
```
Исходное изображение:  
![default](https://raw.githubusercontent.com/3kybika/MADE_HPC_2022/main/HW6/default.jpg)

Результат применения фильтра (фильтр состоит целиком из 1):  
![default_tamplate_filter_result](https://raw.githubusercontent.com/3kybika/MADE_HPC_2022/main/HW6/default_tamplate_filter_result.jpg)

Исходное изображение:  
![cosmos](https://raw.githubusercontent.com/3kybika/MADE_HPC_2022/main/HW6/cosmos.jpg)

Результат применения фильтра (фильтр состоит целиком из 1):  
![cosmos_median](https://raw.githubusercontent.com/3kybika/MADE_HPC_2022/main/HW6/cosmos_template.jpg)

б) Median filter (25 баллов)  
Имплементируйте https://en.wikipedia.org/wiki/Median_filter на CUDA

**Результат**
Код представлен в файле `template_filter.cu`  
Компиляция: `nvcc -arch sm_86 ./median_filter.cu -o median_filter`  
Запуск:
```
    ./template_filter <source_file_name> <target_file_name>
    source_file_name - path to source file, default value: default.jpg
    target_file_name - path to target file, default value: default_median_filter.jpg
```
Исходное изображение:  
![default](https://raw.githubusercontent.com/3kybika/MADE_HPC_2022/main/HW6/default.jpg)

Результат применения фильтра (фильтр состоит целиком из 1):  
![default_median_filter](https://raw.githubusercontent.com/3kybika/MADE_HPC_2022/main/HW6/default_median_filter.jpg)

Исходное изображение:  
![cosmos](https://raw.githubusercontent.com/3kybika/MADE_HPC_2022/main/HW6/cosmos.jpg)

Результат применения фильтра (фильтр состоит целиком из 1):  
![cosmos_median](https://raw.githubusercontent.com/3kybika/MADE_HPC_2022/main/HW6/cosmos_median.jpg)

2. Гистограмма картинки
Загрузите или создайте картинку (если она цветная можете конвертировать в grayscale или сделать гистограмму для каждого канала), сделайте гистограмму по яркости. (50 баллов)
**Результат**
Код представлен в файле `template_filter.cu`  
Компиляция: `nvcc -arch sm_86 ./histogramm.cu -o histogramm`  
Запуск:
```
    ./histogramm <source_file_name>
    source_file_name - path to source file, default value: default.jpg
```

Пример вывода:  
```
Result for default.jpg:
  0: 0.00013889
  1: 0.00010802
  2: 0.00004630
  3: 0.00013889
  4: 0.00014660
  5: 0.00023920
  6: 0.00033951
  7: 0.00045525
  8: 0.00067130
  9: 0.00059414
 10: 0.00081019
 11: 0.00109568
 12: 0.00143519
 13: 0.00186728
 14: 0.00213735
 15: 0.00213735
 16: 0.00239969
 17: 0.00294753
 18: 0.00320988
 19: 0.00341821
 20: 0.00393519
 21: 0.00412037
 22: 0.00444444
 23: 0.00471451
 24: 0.00469136
 25: 0.00554012
 26: 0.00580247
 27: 0.00652006
 28: 0.00718364
 29: 0.00710648
 30: 0.00827932
 31: 0.00781636
 32: 0.00824074
 33: 0.00847994
 34: 0.00834105
 35: 0.00870370
 36: 0.00851852
 37: 0.00831790
 38: 0.00827160
 39: 0.00826389
 40: 0.00813272
 41: 0.00772377
 42: 0.00754630
 43: 0.00773920
 44: 0.00810185
 45: 0.00692901
 46: 0.00675154
 47: 0.00610340
 48: 0.00588735
 49: 0.00592593
 50: 0.00533179
 51: 0.00542438
 52: 0.00543210
 53: 0.00478395
 54: 0.00513117
 55: 0.00459105
 56: 0.00439815
 57: 0.00412037
 58: 0.00396605
 59: 0.00415123
 60: 0.00388889
 61: 0.00368827
 62: 0.00337963
 63: 0.00351852
 64: 0.00331790
 65: 0.00341049
 66: 0.00315586
 67: 0.00326389
 68: 0.00324846
 69: 0.00288580
 70: 0.00317901
 71: 0.00297840
 72: 0.00305556
 73: 0.00291667
 74: 0.00320216
 75: 0.00277006
 76: 0.00264660
 77: 0.00288580
 78: 0.00287809
 79: 0.00243056
 80: 0.00266204
 81: 0.00254630
 82: 0.00278549
 83: 0.00260031
 84: 0.00234568
 85: 0.00228395
 86: 0.00254630
 87: 0.00231481
 88: 0.00257716
 89: 0.00251543
 90: 0.00201389
 91: 0.00237654
 92: 0.00239969
 93: 0.00213735
 94: 0.00216821
 95: 0.00219907
 96: 0.00225309
 97: 0.00211420
 98: 0.00208333
 99: 0.00226852
100: 0.00195988
101: 0.00182099
102: 0.00211420
103: 0.00189815
104: 0.00189815
105: 0.00182870
106: 0.00199074
107: 0.00177469
108: 0.00185185
109: 0.00194444
110: 0.00185957
111: 0.00165123
112: 0.00167438
113: 0.00175154
114: 0.00172068
115: 0.00158179
116: 0.00156636
117: 0.00191358
118: 0.00165895
119: 0.00174383
120: 0.00150463
121: 0.00156636
122: 0.00162037
123: 0.00152006
124: 0.00145833
125: 0.00158179
126: 0.00165895
127: 0.00138889
128: 0.00131944
129: 0.00137346
130: 0.00140432
131: 0.00149691
132: 0.00141204
133: 0.00133488
134: 0.00141204
135: 0.00128858
136: 0.00125000
137: 0.00139660
138: 0.00145062
139: 0.00114969
140: 0.00148920
141: 0.00131173
142: 0.00135802
143: 0.00143519
144: 0.00126543
145: 0.00143519
146: 0.00129630
147: 0.00108025
148: 0.00121914
149: 0.00125772
150: 0.00133488
151: 0.00119599
152: 0.00128858
153: 0.00139660
154: 0.00132716
155: 0.00129630
156: 0.00110340
157: 0.00094907
158: 0.00115741
159: 0.00125000
160: 0.00109568
161: 0.00125772
162: 0.00105710
163: 0.00099537
164: 0.00112654
165: 0.00110340
166: 0.00104938
167: 0.00111111
168: 0.00114198
169: 0.00105710
170: 0.00111111
171: 0.00127315
172: 0.00114198
173: 0.00096451
174: 0.00113426
175: 0.00108796
176: 0.00101080
177: 0.00123457
178: 0.00104938
179: 0.00114969
180: 0.00097994
181: 0.00111883
182: 0.00109568
183: 0.00097994
184: 0.00118056
185: 0.00099537
186: 0.00110340
187: 0.00096451
188: 0.00128858
189: 0.00121914
190: 0.00098765
191: 0.00113426
192: 0.00111883
193: 0.00114198
194: 0.00122685
195: 0.00111883
196: 0.00096451
197: 0.00118056
198: 0.00134259
199: 0.00127315
200: 0.00125000
201: 0.00117284
202: 0.00135031
203: 0.00097222
204: 0.00138889
205: 0.00139660
206: 0.00134259
207: 0.00120370
208: 0.00134259
209: 0.00128858
210: 0.00141975
211: 0.00146605
212: 0.00140432
213: 0.00168210
214: 0.00139660
215: 0.00172840
216: 0.00162809
217: 0.00162037
218: 0.00156636
219: 0.00150463
220: 0.00171296
221: 0.00157407
222: 0.00166667
223: 0.00157407
224: 0.00170525
225: 0.00168981
226: 0.00180556
227: 0.00195988
228: 0.00185185
229: 0.00199846
230: 0.00182870
231: 0.00226080
232: 0.00239969
233: 0.00219907
234: 0.00265432
235: 0.00313272
236: 0.00471451
237: 0.00597994
238: 0.15840278
239: 0.00642747
240: 0.00520062
241: 0.00381173
242: 0.00412037
243: 0.00375772
244: 0.00404321
245: 0.00435185
246: 0.00479938
247: 0.00529321
248: 0.00591049
249: 0.00651235
250: 0.00662037
251: 0.00602623
252: 0.00597994
253: 0.00446759
254: 0.00557870
255: 0.16336420
```